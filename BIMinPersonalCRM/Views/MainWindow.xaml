<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="BIMinPersonalCRM.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:BIMinPersonalCRM.ViewModels"
        mc:Ignorable="d"
        Title="BIMin Personal CRM" Height="600" Width="900">
    <Window.DataContext>
        <viewModels:MainViewModel />
    </Window.DataContext>
    <Grid>
        <TabControl>
            <!-- Tasks Tab -->
            <TabItem Header="Tasks">
                <DockPanel>
                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="5">
                        <Button Content="Add Task"
                                Margin="0,0,5,0"
                                Command="{Binding AddTaskCommand}" />
                        <Button Content="Save"
                                Margin="0,0,5,0"
                                Command="{Binding SaveCommand}" />
                        <Button Content="Load"
                                Command="{Binding LoadCommand}" />
                    </StackPanel>
                    <DataGrid ItemsSource="{Binding Tasks}"
                              SelectedItem="{Binding SelectedTask}"
                              AutoGenerateColumns="False"
                              CanUserAddRows="True"
                              Margin="5"
                              IsReadOnly="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Title" Binding="{Binding Title, Mode=TwoWay}" Width="*" />
                            <DataGridTextColumn Header="Client" Binding="{Binding ClientName, Mode=TwoWay}" Width="*" />
                            <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate, Mode=TwoWay, StringFormat={}{0:yyyy-MM-dd}}" Width="*" />
                            <DataGridTextColumn Header="End Date" Binding="{Binding EndDate, Mode=TwoWay, StringFormat={}{0:yyyy-MM-dd}}" Width="*" />
                            <DataGridTextColumn Header="Hours" Binding="{Binding HoursSpent, Mode=TwoWay}" Width="*" />
                            <DataGridTextColumn Header="Earnings" Binding="{Binding MoneyEarned, Mode=TwoWay}" Width="*" />
                            <DataGridTextColumn Header="Hourly Rate" Binding="{Binding HourlyRate, Mode=TwoWay}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </TabItem>

            <!-- Clients Tab -->
            <TabItem Header="Clients">
                <DockPanel>
                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="5">
                        <Button Content="Add Client" Command="{Binding AddClientCommand}" />
                    </StackPanel>
                    <DataGrid ItemsSource="{Binding Clients}"
                              SelectedItem="{Binding SelectedClient}"
                              AutoGenerateColumns="False"
                              Margin="5"
                              IsReadOnly="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Name" Binding="{Binding Name, Mode=TwoWay}" Width="*" />
                            <DataGridTextColumn Header="Contact" Binding="{Binding ContactInfo, Mode=TwoWay}" Width="*" />
                            <DataGridTextColumn Header="Notes" Binding="{Binding Notes, Mode=TwoWay}" Width="*" />
                        </DataGrid.Columns>
                    </DataGrid>
                </DockPanel>
            </TabItem>

            <!-- Statistics Tab -->
            <TabItem Header="Statistics">
                <StackPanel Margin="10">
                    <TextBlock Text="Statistics" FontSize="18" FontWeight="Bold" Margin="0,0,0,10" />
                    <TextBlock Text="{Binding TotalHoursSpent, StringFormat=Total Hours Spent: {0:F2}}" FontSize="16" Margin="0,0,0,5" />
                    <TextBlock Text="{Binding TotalMoneyEarned, StringFormat=Total Money Earned: {0:C}}" FontSize="16" Margin="0,0,0,5" />
                    <TextBlock Text="{Binding AverageHourlyRate, StringFormat=Average Hourly Rate: {0:C}}" FontSize="16" />
                </StackPanel>
            </TabItem>
        </TabControl>
    </Grid>
</Window>
